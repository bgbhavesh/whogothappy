adminUser = ["nicolsondsouza", "bgbhavesh", "hastenf", "vviber"];

function isAdmin(user) {
<<<<<<< HEAD
    var setTime = new Date().getTime();
    log("isAdmin" + setTime,1);
    for (var i = 0, il = adminUser.length; i < il; i++) {
        if (user.username == adminUser[i]) {
            log("isAdmin" + (new Date().getTime() - setTime),1);
            return true;
        }
    }
    log("isAdmin" + (new Date().getTime() - setTime),1);
=======
    var startTime = new Date().getTime();
    log("isAdmin " +startTime,1);
    for (var i = 0, il = adminUser.length; i < il; i++) {
        if (user.username == adminUser[i]) {
            log("isAdmin " +(new Date().getTime() - startTime),1);
            return true;
        }
    }
    log("isAdmin " +(new Date().getTime() - startTime),1);
>>>>>>> 7430c577c9d4a74f997439f4a40705217fd9e124
    return false;
}

Meteor.users.find({}).observe({
    "added": function(user) {
        var setTime = new Date().getTime();
        log("added" + setTime,1);
        if (isAdmin(user)) {
            Roles.addUsersToRoles(user._id, ['admin']);
        }
        log("added" + (new Date().getTime() - setTime),1);
    }
}); 
